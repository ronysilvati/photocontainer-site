{% extends 'partials/base.html.twig' %}
{% import "functions.twig" as functions %}

{% block content %}


<div class="app page-profile">
    {%
    include 'partials/components/navbar-top.twig' with {
    'profile': grav.user.profile,
    'active': 'profile',
    'class': functions.profileClass(grav.user.profile)
    }
    %}

  <div class="profile-header" style="background-image: url({{url('theme://_temp/signin-bg.png')}})">
    <button class="{{ functions.buttonClass(grav.user.profile) }} btn px-4 btn-upload text-uppercase">Upload foto</button>
  </div>

  <form class="form-validate form-profile" method="post" id="frmProfile" action="#">
    <div class="container">
      <h2 class="h3 title mb-5 text-uppercase">Perfil</h2>
      <div class="row row-lg">
        <!-- COL 1 -->
        <div class="col-md-4 col-sm-6">
          <h3 class="h5 title mb-5">Personal information</h3>
          <div class="form-group">
            <label>Nome</label>
            <input name="input_name" id="input-name" type="text" class="form-control">
          </div>
          <div class="form-group">
            <label>Sexo</label>
            <select name="input_genre" id="input-genre" class="form-control">
              <option selected="true" disabled="disabled">Selecione</option>
              <option value="F">Feminino</option>
              <option value="M">Masculino</option>
            </select>
          </div>
          <div class="form-group">
            <label>Telefone</label>
            <input id="input-phone" type="tel" class="form-control">
          </div>
          <label>Data ds nascimento</label>
          <div class="row row-xs">
            <div class="col-3">
              <div class="form-group">
                <select id="input-day" class="form-control">
                  <option selected="true" disabled="disabled">Dia</option>
                    {% for day in 1..31 %}
                      <option value="{{ day }}">{{ day }}</option>
                    {% endfor %}
                </select>
              </div>
            </div>
            <div class="col-5">
              <div class="form-group">
                <select id="input-month" class="form-control">
                  <option selected="true" disabled="disabled">Mês</option>
                  <option value="01">Janeiro</option>
                  <option value="02">Fevereiro</option>
                  <option value="03">Março</option>
                  <option value="04">Abril</option>
                  <option value="05">Maio</option>
                  <option value="06">Junho</option>
                  <option value="07">Julho</option>
                  <option value="08">Agosto</option>
                  <option value="09">Setembro</option>
                  <option value="10">Outubro</option>
                  <option value="11">Novembro</option>
                  <option value="12">Dezembro</option>
                </select>
              </div>
            </div>
            <div class="col-4">
              <div class="form-group">
                <select id="input-year" class="form-control">
                  <option selected="true" disabled="disabled">Ano</option>
                  {% for year in 1940..2017 %}
                    <option value="{{ year }}">{{ year }}</option>
                  {% endfor %}
                </select>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label>Facebook</label>
            <input id="input-facebook" type="url" class="form-control">
          </div>
          <div class="form-group">
            <label>Instagram</label>
            <input id="input-instagram" type="url" class="form-control">
          </div>
          <div class="form-group">
            <label>Linkedin</label>
            <input id="input-linkedin" type="url" class="form-control">
          </div>
          <div class="form-group">
            <label>Site</label>
            <input id="input-site" type="url" class="form-control">
          </div>
          <div class="form-group">
            <label>Blog
              <a data-toggle="tooltip" data-placement="top" title="Quis est tam dissimile homini. Sed quot homines, tot sententiae."><i class="icon-help-circled"></i></a>
            </label>
            <input id="input-blog" type="url" class="form-control">
          </div>
        </div>

        <div class="col-md-4 col-sm-6">
          <h3 class="h5 title mb-5">Locate</h3>
          <div class="form-group">
            <label>CEP</label>
            <input id="input-cep" type="text" class="form-control">
          </div>
          <div class="form-group">
            <label>País</label>
            <select id="input-country" class="form-control">
              <option disabled="disabled">Selecione</option>
              <option selected="true">Brasil</option>
            </select>
          </div>
          <div class="form-group">
            <label>Estado</label>
            <select id="input-state" class="form-control">
              <option selected="true" disabled="disabled">Selecione</option>
            </select>
          </div>
          <div class="form-group">
            <label>Cidade</label>
            <select id="input-city" class="form-control">
              <option selected="true" disabled="disabled">Selecione</option>
              <option>Cidade</option>
            </select>
          </div>
          <div class="form-group">
            <label>Bairro</label>
            <input id="input-neighborhood" type="text" class="form-control">
          </div>
          <div class="form-group">
            <label>Logradouro</label>
            <input id="input-street" type="text" class="form-control">
          </div>
          <div class="form-group">
            <label>Complemento</label>
            <input id="input-complement" type="text" class="form-control">
          </div>
        </div>
        <div class="col-md-4">
          <div class="card">
            <h4 class="card-title text-uppercase text-center h5">Dados de acesso</h4>
            <div class="card-block">
              <h3 class="h5 title mb-5">Alterar senha</h3>
              <div class="form-group">
                <label>Senha</label>
                <input type="text" class="form-control">
              </div>
              <h3 class="h5 title mb-5">Alterar email</h3>
              <div class="form-group">
                <label>Email</label>
                <input id="input-email" type="text" class="form-control">
              </div>
              <div class="row row-sm">
                <div class="col-md-6">
                  <button class="btn btn-secondary btn-block">Cancelar</button>
                </div>
                <div class="col-md-6">
                  <button class="{{ functions.buttonClass(grav.user.profile) }} btn btn-block btn-save-profile">Confirmar</button>
                </div>
              </div>
            </div>
          </div>
          <div class="card mt-4">
            <div class="card-block">
              <small class="d-block text-center title text-center text-uppercase mb-3">Faltam <b class="h5 bold">10</b> dias para o seu Plano anual encerrar</small>
              <h4 class="title text-center bold h4 mb-4"><small>R$</small> 399</h4>
              <div class="row row-sm">
                <div class="col-md-6">
                  <button class="btn btn-outline-primary btn-block">Alterar</button>
                </div>
                <div class="col-md-6">
                  <button class="{{ functions.buttonClass(grav.user.profile) }} btn btn-block">Renovar</button>
                </div>
              </div>
              </div>
            </div>

          <button class="mt-4 btn btn-secondary btn-block">Quero deletar minha conta</button>
        </div>
      </div>

      <h3 class="h5 title mb-3 mt-5">Preferências</h3>
      <div class="form-check">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input">
          <span>Aceito os <a class="link">Termos e Condições de uso</a></span>
        </label>
        <a data-toggle="tooltip" data-placement="top" title="Quis est tam dissimile homini. Sed quot homines, tot sententiae."><i class="icon-help-circled"></i></a>
      </div>
    </div>
  </form>

  {% include 'partials/components/footer.twig' with {'class': functions.profileClass(grav.user.profile)} %}
</div>

<script>
$( document ).ready(function(){
  Cep.loadStates(localStorage.endpoint)
  .then(Profile.load(localStorage.endpoint));

  $("#input-cep").on('keyup', function (e) {
    if ($("#input-cep").val().length == 8) {
      Cep.loadCep(localStorage.endpoint)
    }
  })

  $(".btn-save-profile").on('click', function(e){
    e.preventDefault();
    Profile.update(localStorage.endpoint);
  })
})
</script>

{% endblock %}
